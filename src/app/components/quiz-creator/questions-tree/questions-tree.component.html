<div [formGroup]="quiz">
    <div formArrayName="questions">
        <!-- Questions tree main buttons -->
        <div class="buttons">
            <button mat-stroked-button (click)="handleQuestions.addNew()" type="button">
                <mat-icon>add</mat-icon>Aggiungi domanda
            </button>
            <button mat-stroked-button (click)="questionsAccordion.openAll()" *ngIf="quiz.get('questions').length > 0" type="button">
                <mat-icon>expand_more</mat-icon>Espandi tutto
            </button>
            <button mat-stroked-button (click)="questionsAccordion.closeAll()" *ngIf="quiz.get('questions').length > 0" type="button">
                <mat-icon>expand_less</mat-icon>Chiudi tutto
            </button>
        </div>
        <!-- /Questions tree main buttons -->
        <!-- Questions tree -->
        <mat-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl" class="example-tree">
                <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
                  <li class="mat-tree-node">
                    <button mat-icon-button disabled></button>
                    {{node.Nodename}}:  {{node.nodeValue}}
                  </li>
                </mat-tree-node>
              
                <mat-nested-tree-node *matTreeNodeDef="let node; when: hasNestedChild">
                  <li>
                    <div class="mat-tree-node">
                      <button mat-icon-button matTreeNodeToggle
                              [attr.aria-label]="'toggle ' + node.nodeName">
                        <mat-icon class="mat-icon-rtl-mirror">
                          {{nestedTreeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                        </mat-icon>
                      </button>
                      {{node.nodeName}}
                    </div>
                    <ul [class.example-tree-invisible]="!nestedTreeControl.isExpanded(node)">
                      <ng-container matTreeNodeOutlet></ng-container>
                    </ul>
                  </li>
                </mat-nested-tree-node>
              </mat-tree>              
        <!-- /Questions tree -->
    </div>
</div>