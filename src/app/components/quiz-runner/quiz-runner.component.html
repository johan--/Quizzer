
<div class="container">

    <div class="sub-container">
        <h1>{{curQuiz.settings.title}}</h1>
    </div>

    <i *ngIf="quizState === quizAvailableStates.STARTED">Domanda {{curQuestionIndex + 1}} / {{curQuiz.questions.length}}</i>        
    <hr>
    
    <ng-container [ngSwitch]='quizState'>
        <div class="sub-container">
            <!-- Intro Quiz -->
            <div *ngSwitchCase='"ready"' class="intro">
                <p>{{curQuiz.settings.description}}</p>
            </div>
    
            <!-- Quiz Question Box -->
            <div *ngSwitchCase='quizAvailableStates.STARTED'>
                <p>{{curQuiz.questions[curQuestionIndex].text}}</p>
                <mat-radio-group [value]="givenUserAnswers[curQuestionIndex]">
                    <ng-container *ngFor='let obj of curQuiz.questions[curQuestionIndex].answers'>
                        <mat-radio-button [name]='curQuiz.title' (click)='selectAnswer(obj.value)' selected="false">
                            {{obj.text}}
                        </mat-radio-button>
                    </ng-container>
                </mat-radio-group>
            </div>
        
            <!-- Quiz result -->
            <div *ngSwitchCase='quizAvailableStates.FINISHED' id='resultQuiz' class="result">
                <h2>{{curQuizResult.title}}</h2>
                <p>{{curQuizResult.description}}</p>
            </div>
        </div>
    </ng-container>

    <hr>

    <ng-container [ngSwitch]='quizState'>
        <div class="sub-container">
            <div class="buttons">
                <label class="mat-button">
                    <span class="mat-button-wrapper">
                        <mat-icon>cloud_upload</mat-icon> Carica nuovo
                        <input type='file' (change)='uploadQuiz($event)'>
                    </span>
                </label>
                <button mat-button *ngSwitchCase='quizAvailableStates.READY' [disabled]='submitButtonIsDisabled' (click)='onSubmit()'><mat-icon>play_arrow</mat-icon>Inizia il test</button>
                <button mat-button *ngSwitchCase='quizAvailableStates.STARTED' [disabled]='submitButtonIsDisabled' (click)='onSubmit()'><mat-icon>check</mat-icon>Ok</button>
                <button mat-button *ngSwitchCase='quizAvailableStates.FINISHED' [disabled]='submitButtonIsDisabled' (click)='onSubmit()'><mat-icon>refresh</mat-icon>Ricomincia</button>
            </div>
        </div>
    </ng-container>

</div>